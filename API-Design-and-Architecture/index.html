<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-API-Design-and-Architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">API Design &amp; Architecture Best Practices | Django REST Best Practices</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pragnakalp.github.io/django-rest-best-practices/API-Design-and-Architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Design &amp; Architecture Best Practices | Django REST Best Practices"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/django-rest-best-practices/img/pk-color-128.png"><link data-rh="true" rel="canonical" href="https://pragnakalp.github.io/django-rest-best-practices/API-Design-and-Architecture"><link data-rh="true" rel="alternate" href="https://pragnakalp.github.io/django-rest-best-practices/API-Design-and-Architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://pragnakalp.github.io/django-rest-best-practices/API-Design-and-Architecture" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"API Design & Architecture Best Practices","item":"https://pragnakalp.github.io/django-rest-best-practices/API-Design-and-Architecture"}]}</script><link rel="stylesheet" href="/django-rest-best-practices/assets/css/styles.b0092fe2.css">
<script src="/django-rest-best-practices/assets/js/runtime~main.41c4e0ce.js" defer="defer"></script>
<script src="/django-rest-best-practices/assets/js/main.da86f03e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/django-rest-best-practices/img/pk-color-128.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><a class="navbar__brand" href="/django-rest-best-practices/"><div class="navbar__logo"><img src="/django-rest-best-practices/img/pk-color-128.png" alt="Django REST Best Practices Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/django-rest-best-practices/img/pk-color-128.png" alt="Django REST Best Practices Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Django REST Best Practices</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/"><span title="Django REST Framework Best Practices" class="linkLabel_WmDU">Django REST Framework Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/django-rest-best-practices/API-Design-and-Architecture"><span title="API Design &amp; Architecture Best Practices" class="linkLabel_WmDU">API Design &amp; Architecture Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Serializers-Best-Practices"><span title="Serializers Best Practices" class="linkLabel_WmDU">Serializers Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Views-and-ViewSets"><span title="Views and ViewSets Best Practices" class="linkLabel_WmDU">Views and ViewSets Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Authentication-and-Permissions"><span title="Authentication and Permissions Best Practices" class="linkLabel_WmDU">Authentication and Permissions Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Security-Best-Practices"><span title="Security Best Practices" class="linkLabel_WmDU">Security Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Performance-and-Optimization"><span title="Performance and Optimization Best Practices" class="linkLabel_WmDU">Performance and Optimization Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/API-Versioning"><span title="API Versioning &amp; Architecture Best Practices" class="linkLabel_WmDU">API Versioning &amp; Architecture Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/API-Documentation-Best-Practices"><span title="API Documentation Best Practices" class="linkLabel_WmDU">API Documentation Best Practices</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Error-Handling-and-Status-Codes"><span title="Production-Grade Error Handling and Status Codes" class="linkLabel_WmDU">Production-Grade Error Handling and Status Codes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/django-rest-best-practices/Testing-Best-Practices"><span title="Testing Best Practices" class="linkLabel_WmDU">Testing Best Practices</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/django-rest-best-practices/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">API Design &amp; Architecture Best Practices</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Design &amp; Architecture Best Practices</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>This document consolidates best practices for designing robust, scalable, and maintainable REST APIs using Django REST Framework.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-principles">Core Principles<a href="#core-principles" class="hash-link" aria-label="Direct link to Core Principles" title="Direct link to Core Principles" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-treat-your-api-as-a-product">1. Treat Your API as a Product<a href="#1-treat-your-api-as-a-product" class="hash-link" aria-label="Direct link to 1. Treat Your API as a Product" title="Direct link to 1. Treat Your API as a Product" translate="no">​</a></h3>
<p>APIs are not just technical implementations but strategic products that power applications, integrations, and revenue models.</p>
<p><strong>Key Actions:</strong></p>
<ul>
<li class="">Assign a clear API owner (team or squad)</li>
<li class="">Maintain an API roadmap (features, deprecations, improvements)</li>
<li class="">Set SLAs and KPIs (uptime, latency, errors, adoption metrics)</li>
<li class="">Track API usage and performance metrics</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">Transforms endpoints into strategic assets</li>
<li class="">Enables measurable impact and governance</li>
<li class="">Facilitates better planning and resource allocation</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-restful-uri-design">2. RESTful URI Design<a href="#2-restful-uri-design" class="hash-link" aria-label="Direct link to 2. RESTful URI Design" title="Direct link to 2. RESTful URI Design" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-plural-resource-nouns">Use Plural Resource Nouns<a href="#use-plural-resource-nouns" class="hash-link" aria-label="Direct link to Use Plural Resource Nouns" title="Direct link to Use Plural Resource Nouns" translate="no">​</a></h4>
<p>Always use plural nouns for resource endpoints to maintain consistency.</p>
<p><strong>Bad Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /article/:id/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /user/123/</span><br></span></code></pre></div></div>
<p><strong>Good Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/:id/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /users/123/</span><br></span></code></pre></div></div>
<p><strong>Rationale:</strong> Fits all endpoint types and maintains consistency whether returning single or multiple resources.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="avoid-verbs-in-uris">Avoid Verbs in URIs<a href="#avoid-verbs-in-uris" class="hash-link" aria-label="Direct link to Avoid Verbs in URIs" title="Direct link to Avoid Verbs in URIs" translate="no">​</a></h4>
<p>HTTP verbs should describe the action; URIs should identify resources.</p>
<p><strong>Bad Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/:slug/generateBanner/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST: /users/711/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /deleteUser/123</span><br></span></code></pre></div></div>
<p><strong>Good Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/:slug/banner/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST: /users/711/activation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DELETE: /users/123</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-consistent-uri-case">Use Consistent URI Case<a href="#use-consistent-uri-case" class="hash-link" aria-label="Direct link to Use Consistent URI Case" title="Direct link to Use Consistent URI Case" translate="no">​</a></h4>
<p>Adopt <strong>spinal-case</strong> (kebab-case) for URIs as recommended by RFC3986.</p>
<p><strong>Recommended:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/api/user-profiles/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/api/blog-posts/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/api/order-items/</span><br></span></code></pre></div></div>
<p><strong>Avoid:</strong></p>
<ul>
<li class="">CamelCase: Ineffective in case-insensitive contexts</li>
<li class="">snake_case: Less common in web URLs</li>
</ul>
<p><strong>Industry Standard:</strong> Used by Google, PayPal, and other major companies.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-dont-nest-resources-deeply">3. Don&#x27;t Nest Resources Deeply<a href="#3-dont-nest-resources-deeply" class="hash-link" aria-label="Direct link to 3. Don&#x27;t Nest Resources Deeply" title="Direct link to 3. Don&#x27;t Nest Resources Deeply" translate="no">​</a></h3>
<p>Avoid deeply nested resource URIs. Use query parameters for filtering instead.</p>
<p><strong>Bad Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /authors/12/articles/5/comments/3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /users/1/posts/2/comments/3/replies/4</span><br></span></code></pre></div></div>
<p><strong>Good Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?author_id=12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /comments/?article_id=5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /comments/3</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">Simpler URL structure</li>
<li class="">Easier to maintain and scale</li>
<li class="">More flexible filtering options</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-handle-trailing-slashes-gracefully">4. Handle Trailing Slashes Gracefully<a href="#4-handle-trailing-slashes-gracefully" class="hash-link" aria-label="Direct link to 4. Handle Trailing Slashes Gracefully" title="Direct link to 4. Handle Trailing Slashes Gracefully" translate="no">​</a></h3>
<p>Choose one convention (with or without trailing slash) and stick to it. Configure your framework to redirect gracefully.</p>
<p><strong>Django Configuration:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># settings.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPEND_SLASH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Redirects /api/users to /api/users/</span><br></span></code></pre></div></div>
<p><strong>Best Practice:</strong> Most web frameworks have built-in options for this. Enable them to avoid 404 errors.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-pagination-strategies-choosing-the-right-approach">5. Pagination Strategies: Choosing the Right Approach<a href="#5-pagination-strategies-choosing-the-right-approach" class="hash-link" aria-label="Direct link to 5. Pagination Strategies: Choosing the Right Approach" title="Direct link to 5. Pagination Strategies: Choosing the Right Approach" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="three-main-pagination-approaches">Three Main Pagination Approaches<a href="#three-main-pagination-approaches" class="hash-link" aria-label="Direct link to Three Main Pagination Approaches" title="Direct link to Three Main Pagination Approaches" translate="no">​</a></h4>
<p><strong>Approach 1: Page Number Pagination (Most Common)</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?page=2&amp;page_size=20</span><br></span></code></pre></div></div>
<p><strong>Pros:</strong></p>
<ul>
<li class="">Easy to understand and implement</li>
<li class="">Users can jump to any page</li>
<li class="">Good for UI with page numbers</li>
<li class="">Predictable page count</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li class="">Performance degrades with large offsets</li>
<li class="">Inconsistent results if data changes between requests</li>
<li class="">Can miss or duplicate items with concurrent writes</li>
</ul>
<p><strong>Use When:</strong></p>
<ul>
<li class="">Building traditional web UIs with page numbers</li>
<li class="">Dataset is relatively stable</li>
<li class="">Users need to jump to specific pages</li>
<li class="">Total count is important to display</li>
</ul>
<p><strong>Approach 2: Limit/Offset Pagination</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?limit=20&amp;offset=40</span><br></span></code></pre></div></div>
<p><strong>Pros:</strong></p>
<ul>
<li class="">Flexible (any offset value)</li>
<li class="">Simple to implement</li>
<li class="">Good for infinite scroll</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li class="">Same performance issues as page number</li>
<li class="">Offset can become very large</li>
<li class="">Database query cost increases with offset</li>
</ul>
<p><strong>Use When:</strong></p>
<ul>
<li class="">Need flexibility in result positioning</li>
<li class="">Implementing infinite scroll</li>
<li class="">Dataset is small to medium size</li>
</ul>
<p><strong>Approach 3: Cursor Pagination (Best for Large Datasets)</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?cursor=eyJpZCI6MTAwfQ==</span><br></span></code></pre></div></div>
<p><strong>Pros:</strong></p>
<ul>
<li class="">Consistent results even with data changes</li>
<li class="">Excellent performance (no offset)</li>
<li class="">No duplicate or missing items</li>
<li class="">Scales to very large datasets</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li class="">Can&#x27;t jump to arbitrary pages</li>
<li class="">More complex to implement</li>
<li class="">Requires ordered field (usually ID or timestamp)</li>
<li class="">Can&#x27;t show total page count</li>
</ul>
<p><strong>Use When:</strong></p>
<ul>
<li class="">Building real-time feeds (Twitter, Facebook style)</li>
<li class="">Dataset is very large (millions of records)</li>
<li class="">Data changes frequently</li>
<li class="">Performance is critical</li>
<li class="">Infinite scroll without page numbers</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-implementation-comparison">Detailed Implementation Comparison<a href="#detailed-implementation-comparison" class="hash-link" aria-label="Direct link to Detailed Implementation Comparison" title="Direct link to Detailed Implementation Comparison" translate="no">​</a></h4>
<p><strong>Page Number Pagination:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pagination </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PageNumberPagination</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">StandardPagination</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PageNumberPagination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page_size_query_param </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;page_size&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_page_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Response:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;count&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;next&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/articles/?page=3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;previous&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/articles/?page=1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;results&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Cursor Pagination:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pagination </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> CursorPagination</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ArticleCursorPagination</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CursorPagination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ordering </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-created_at&#x27;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Response:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;next&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/articles/?cursor=cD0yMDIw...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;previous&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/articles/?cursor=cj0xJnA9MjAyMA==&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;results&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-comparison">Performance Comparison<a href="#performance-comparison" class="hash-link" aria-label="Direct link to Performance Comparison" title="Direct link to Performance Comparison" translate="no">​</a></h4>
<table><thead><tr><th>Dataset Size</th><th>Page Number</th><th>Cursor</th><th>Winner</th></tr></thead><tbody><tr><td>&lt; 1,000</td><td>Fast</td><td>Fast</td><td>Page Number (simpler)</td></tr><tr><td>1,000 - 10,000</td><td>Medium</td><td>Fast</td><td>Cursor</td></tr><tr><td>10,000 - 100,000</td><td>Slow</td><td>Fast</td><td>Cursor</td></tr><tr><td>&gt; 100,000</td><td>Very Slow</td><td>Fast</td><td>Cursor</td></tr><tr><td>Real-time feeds</td><td>Inconsistent</td><td>Consistent</td><td>Cursor</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="decision-matrix">Decision Matrix<a href="#decision-matrix" class="hash-link" aria-label="Direct link to Decision Matrix" title="Direct link to Decision Matrix" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Use Page Number Pagination when:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Building traditional web UIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Need to show total page count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Users need to jump to specific pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Dataset &lt; 10,000 records</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Data is relatively stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use Cursor Pagination when:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Building infinite scroll feeds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Dataset &gt; 10,000 records</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Data changes frequently</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Performance is critical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Building mobile apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Real-time or social media style feeds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use Limit/Offset when:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Need maximum flexibility</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Internal APIs with known usage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Prototyping or simple use cases</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filtering-best-practices">Filtering Best Practices<a href="#filtering-best-practices" class="hash-link" aria-label="Direct link to Filtering Best Practices" title="Direct link to Filtering Best Practices" translate="no">​</a></h4>
<p>Allow users to filter resources based on specific properties.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?published=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?author=john&amp;category=tech</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /users/?is_active=true&amp;role=admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET: /articles/?created_after=2024-01-01&amp;published=true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-return-proper-content-types">6. Return Proper Content Types<a href="#6-return-proper-content-types" class="hash-link" aria-label="Direct link to 6. Return Proper Content Types" title="Direct link to 6. Return Proper Content Types" translate="no">​</a></h3>
<p>Always set the <code>Content-Type</code> header to <code>application/json</code> for JSON responses.</p>
<p><strong>Bad Practice:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{&#x27;message&#x27;: &#x27;success&#x27;}&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Plain text</span><br></span></code></pre></div></div>
<p><strong>Good Practice:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;success&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Automatically sets Content-Type</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-project-structure-best-practices">7. Project Structure Best Practices<a href="#7-project-structure-best-practices" class="hash-link" aria-label="Direct link to 7. Project Structure Best Practices" title="Direct link to 7. Project Structure Best Practices" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-structure-production-ready-with-versioning">Recommended Structure (Production-Ready with Versioning)<a href="#recommended-structure-production-ready-with-versioning" class="hash-link" aria-label="Direct link to Recommended Structure (Production-Ready with Versioning)" title="Direct link to Recommended Structure (Production-Ready with Versioning)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── config/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── settings/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── __init__.py              # Makes directory a Python package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── base.py                  # Common settings for all environments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── development.py           # Local dev settings (DEBUG=True)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── staging.py               # Pre-prod testing environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── production.py            # Live production settings (DEBUG=False)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── urls.py                      # Root URL routing to app APIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── schema.py                    # drf-spectacular OpenAPI schema config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── asgi.py                      # ASGI config for async (channels, etc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── wsgi.py                      # WSGI config for traditional serving</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── apps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── users/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── v1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   ├── views/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── __init__.py           # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── auth.py               # Login/register/logout views</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── profile.py            # User profile CRUD views</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   └── admin.py              # Admin-only user management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   ├── serializers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── __init__.py           # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── auth.py               # Auth request/response serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── profile.py            # Profile data validation/serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   └── admin.py              # Admin user data serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   ├── urls.py                   # v1 API endpoint routing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   └── permissions.py            # Custom permission classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── v2/                           # Future API version (empty)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── models.py                        # User, Profile models (SINGLE FILE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── managers.py                      # Custom QuerySet methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── services/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── __init__.py                  # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── auth_service.py              # Password hash, token generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── user_service.py              # User create/update/delete logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── selectors/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── __init__.py                  # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── user_selector.py             # Complex read queries (filtering)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── validators.py                    # Model-level custom validators</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── tasks.py                         # Celery async tasks (email, etc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── signals.py                       # post_save, post_delete hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── admin.py                         # Django admin interface config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── migrations/                      # Auto-generated DB migrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── tests/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── __init__.py                  # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── test_models.py               # Model validation tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── test_services.py             # Business logic tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── test_selectors.py            # Query tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ├── test_views.py                # API endpoint tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       └── factories.py                 # Test data factories (FactoryBoy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── articles/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── v1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   ├── views/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── __init__.py           # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── article.py            # Article CRUD views</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── comment.py            # Comment CRUD views</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   └── admin.py              # Article admin views</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   ├── serializers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── __init__.py           # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── article.py            # Article serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   ├── comment.py            # Comment serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   │   └── admin.py              # Admin serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   │   └── urls.py                   # v1 article API routing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── v2/                           # Future API version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── models.py                        # Article, Comment, Tag (SINGLE FILE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── managers.py                      # ArticleQuerySet custom methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── services/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── __init__.py                  # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── article_service.py           # Article create/publish logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── selectors/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   ├── __init__.py                  # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── article_selector.py          # Article filtering/pagination</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── validators.py                    # Article content validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── tasks.py                         # Async publishing, notifications</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── signals.py                       # Article publish hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── admin.py                         # Article admin interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── migrations/                      # DB migrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── tests/                           # Same test structure as users/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── __init__.py                     # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── pagination.py                   # Custom pagination classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── exceptions.py                   # APIException subclasses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── response.py                     # Standardized API responses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── filters.py                      # django-filter configurations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── models/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── __init__.py                     # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── timestamped.py                  # Abstract TimeStampedModel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── soft_delete.py                  # Abstract SoftDeleteModel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── utils/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── __init__.py                     # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── validators.py                   # Reusable validators</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── helpers.py                      # Utility functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── constants.py                    # App-wide constants</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── decorators.py                   # Custom decorators</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── middleware/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── __init__.py                     # Package init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── request_logging.py              # Request/response logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── cors.py                         # CORS configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── requirements/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── base.txt                           # Core dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── development.txt                    # + dev tools (black, pytest)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── staging.txt                        # Staging environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── production.txt                     # Production + monitoring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── scripts/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── manage_admin.py                    # Create superuser script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── deploy.py                          # Deployment automation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docker/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Dockerfile                         # Container build instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── docker-compose.yml                 # Local dev environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── nginx.conf                         # Reverse proxy config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── .github/workflows/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ci.yml                             # GitHub Actions CI/CD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── manage.py                              # Django management CLI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── .env.example                           # Environment variable template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── .gitignore                             # Git ignore rules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── README.md                              # Project documentation</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture-explanation">Architecture Explanation<a href="#architecture-explanation" class="hash-link" aria-label="Direct link to Architecture Explanation" title="Direct link to Architecture Explanation" translate="no">​</a></h4>
<p><strong>config/</strong> - Project configuration</p>
<ul>
<li class=""><code>settings/__init__.py</code> - Package initialization</li>
<li class=""><code>settings/base.py</code> - Common settings (database, installed apps, middleware)</li>
<li class=""><code>settings/development.py</code> - Debug mode, local database, dev tools</li>
<li class=""><code>settings/staging.py</code> - Pre-production testing environment</li>
<li class=""><code>settings/production.py</code> - Production settings (security, performance)</li>
<li class=""><code>urls.py</code> - Root URL routing to all app APIs</li>
<li class=""><code>schema.py</code> - OpenAPI schema configuration (drf-spectacular)</li>
<li class=""><code>asgi.py</code> - ASGI server config for async/WebSockets</li>
<li class=""><code>wsgi.py</code> - WSGI server config for traditional deployment</li>
</ul>
<p><strong>apps/</strong> - Application modules (domain-driven design)</p>
<ul>
<li class="">Each app is a bounded context (users, articles, etc.)</li>
<li class="">Self-contained with its own API, models, services, tests</li>
</ul>
<p><strong>api/</strong> - API layer (per app) with versioning</p>
<ul>
<li class=""><code>v1/</code> - Current stable API version<!-- -->
<ul>
<li class=""><code>views/</code> - Split by feature (auth.py, profile.py, admin.py)</li>
<li class=""><code>serializers/</code> - Split by feature matching views</li>
<li class=""><code>urls.py</code> - Version-specific URL routing</li>
<li class=""><code>permissions.py</code> - Custom permission classes (IsOwner, IsAdmin)</li>
</ul>
</li>
<li class=""><code>v2/</code> - Future API version (breaking changes only)<!-- -->
<ul>
<li class="">Only include files that differ from v1</li>
<li class="">Inherit unchanged components from v1</li>
</ul>
</li>
</ul>
<p><strong>models.py</strong> - Django models (SINGLE FILE per app)</p>
<ul>
<li class="">All models for the app in one file</li>
<li class="">Keeps related models together</li>
<li class="">Easier to understand relationships</li>
</ul>
<p><strong>managers.py</strong> - Custom QuerySet managers</p>
<ul>
<li class="">Custom query methods (e.g., <code>published()</code>, <code>active()</code>)</li>
<li class="">Reusable query logic</li>
<li class="">Chainable queryset methods</li>
</ul>
<p><strong>services/</strong> - Business logic layer (shared across versions)</p>
<ul>
<li class="">Write operations (create, update, delete)</li>
<li class="">Complex business rules and validation</li>
<li class="">External API calls</li>
<li class="">File uploads, email sending</li>
<li class="">Transaction management</li>
<li class=""><strong>Version-agnostic</strong> - Reused by all API versions</li>
</ul>
<p><strong>selectors/</strong> - Query layer (shared across versions)</p>
<ul>
<li class="">Read operations (get, list, filter)</li>
<li class="">Complex queries with joins (select_related, prefetch_related)</li>
<li class="">Data aggregation and annotations</li>
<li class="">Keeps views thin</li>
<li class=""><strong>Version-agnostic</strong> - Reused by all API versions</li>
</ul>
<p><strong>validators.py</strong> - Custom validation logic</p>
<ul>
<li class="">Model-level validators</li>
<li class="">Field-specific validation rules</li>
<li class="">Reusable validation functions</li>
</ul>
<p><strong>tasks.py</strong> - Celery async tasks</p>
<ul>
<li class="">Background jobs (email sending, notifications)</li>
<li class="">Scheduled tasks (cleanup, reports)</li>
<li class="">Long-running operations</li>
<li class="">Decouples slow operations from request/response</li>
</ul>
<p><strong>signals.py</strong> - Django signals</p>
<ul>
<li class="">post_save, post_delete hooks</li>
<li class="">Automatic actions on model changes</li>
<li class="">Decoupled event handling</li>
</ul>
<p><strong>tests/</strong> - Comprehensive test suite</p>
<ul>
<li class=""><code>test_models.py</code> - Model validation and methods</li>
<li class=""><code>test_services.py</code> - Business logic tests</li>
<li class=""><code>test_selectors.py</code> - Query optimization tests</li>
<li class=""><code>test_views.py</code> - API endpoint integration tests</li>
<li class=""><code>factories.py</code> - Test data generation (FactoryBoy)</li>
</ul>
<p><strong>common/</strong> - Shared utilities across all apps</p>
<ul>
<li class=""><code>api/</code> - Shared API components<!-- -->
<ul>
<li class=""><code>pagination.py</code> - Custom pagination classes</li>
<li class=""><code>exceptions.py</code> - Custom exception handlers</li>
<li class=""><code>response.py</code> - Standardized API responses</li>
<li class=""><code>filters.py</code> - django-filter configurations</li>
</ul>
</li>
<li class=""><code>models/</code> - Abstract base models<!-- -->
<ul>
<li class=""><code>timestamped.py</code> - created_at, updated_at fields</li>
<li class=""><code>soft_delete.py</code> - Soft delete functionality</li>
</ul>
</li>
<li class=""><code>utils/</code> - Helper functions<!-- -->
<ul>
<li class=""><code>validators.py</code> - Reusable validators</li>
<li class=""><code>helpers.py</code> - Utility functions</li>
<li class=""><code>constants.py</code> - App-wide constants</li>
<li class=""><code>decorators.py</code> - Custom decorators</li>
</ul>
</li>
<li class=""><code>middleware/</code> - Custom middleware<!-- -->
<ul>
<li class=""><code>request_logging.py</code> - Log all requests/responses</li>
<li class=""><code>cors.py</code> - CORS configuration</li>
</ul>
</li>
</ul>
<p><strong>requirements/</strong> - Dependency management</p>
<ul>
<li class=""><code>base.txt</code> - Core dependencies (Django, DRF, PostgreSQL)</li>
<li class=""><code>development.txt</code> - Dev tools (black, pytest, ipdb)</li>
<li class=""><code>staging.txt</code> - Staging-specific packages</li>
<li class=""><code>production.txt</code> - Production tools (gunicorn, sentry)</li>
</ul>
<p><strong>scripts/</strong> - Automation scripts</p>
<ul>
<li class=""><code>manage_admin.py</code> - Create superuser, manage permissions</li>
<li class=""><code>deploy.py</code> - Deployment automation</li>
</ul>
<p><strong>docker/</strong> - Containerization</p>
<ul>
<li class=""><code>Dockerfile</code> - Container build instructions</li>
<li class=""><code>docker-compose.yml</code> - Multi-container setup (app, db, redis)</li>
<li class=""><code>nginx.conf</code> - Reverse proxy configuration</li>
</ul>
<p><strong>.github/workflows/</strong> - CI/CD</p>
<ul>
<li class=""><code>ci.yml</code> - Automated testing, linting, deployment</li>
</ul>
<p><strong>Root files:</strong></p>
<ul>
<li class=""><code>manage.py</code> - Django management CLI</li>
<li class=""><code>.env.example</code> - Environment variable template</li>
<li class=""><code>.gitignore</code> - Git ignore rules</li>
<li class=""><code>README.md</code> - Project documentation</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li class=""><strong>Clear separation of concerns</strong> - API, business logic, data access separated</li>
<li class=""><strong>Scalable</strong> - Easy to add new apps and features</li>
<li class=""><strong>Testable</strong> - Each layer tested independently with factories</li>
<li class=""><strong>Maintainable</strong> - Easy to find and modify code</li>
<li class=""><strong>Team-friendly</strong> - Multiple developers can work without conflicts</li>
<li class=""><strong>Service/Selector pattern</strong> - Keeps views thin, business logic reusable</li>
<li class=""><strong>API versioning built-in</strong> - Support multiple API versions simultaneously</li>
<li class=""><strong>DRY principle</strong> - Services/selectors shared across versions</li>
<li class=""><strong>Production-ready</strong> - Docker, CI/CD, environment configs included</li>
<li class=""><strong>Async support</strong> - Celery tasks for background jobs</li>
<li class=""><strong>Type safety</strong> - Managers and validators ensure data integrity</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="service-layer-pattern">Service Layer Pattern<a href="#service-layer-pattern" class="hash-link" aria-label="Direct link to Service Layer Pattern" title="Direct link to Service Layer Pattern" translate="no">​</a></h4>
<p><strong>services/user_service.py</strong> - Write operations</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> transaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserService</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@transaction</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">atomic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">create_user</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Create user with validation and side effects</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            email</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Send welcome email</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        send_welcome_email</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Create user profile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@transaction</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">atomic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update_profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Update user profile with business logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        profile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin">setattr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> profile</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="selector-layer-pattern">Selector Layer Pattern<a href="#selector-layer-pattern" class="hash-link" aria-label="Direct link to Selector Layer Pattern" title="Direct link to Selector Layer Pattern" translate="no">​</a></h4>
<p><strong>selectors/user_selector.py</strong> - Read operations</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_active_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Get all active users with optimized query</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">select_related</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;profile&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prefetch_related</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;groups&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_user_with_stats</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Get user with article and comment counts</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">annotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            article_count</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;articles&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            comment_count</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;comments&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-services-and-selectors-in-views">Using Services and Selectors in Views<a href="#using-services-and-selectors-in-views" class="hash-link" aria-label="Direct link to Using Services and Selectors in Views" title="Direct link to Using Services and Selectors in Views" translate="no">​</a></h4>
<p><strong>api/v1/views/profile.py</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> viewsets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decorators </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ProfileSerializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user_service </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UserService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">selectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user_selector </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UserSelector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ProfileViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Use selector for read operations&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        users </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserSelector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_active_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ProfileSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> many</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">retrieve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Use selector with stats&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserSelector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_user_with_stats</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ProfileSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">detail</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> methods</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;patch&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update_profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Use service for write operations&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        profile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update_profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ProfileSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="api-versioning-in-practice">API Versioning in Practice<a href="#api-versioning-in-practice" class="hash-link" aria-label="Direct link to API Versioning in Practice" title="Direct link to API Versioning in Practice" translate="no">​</a></h4>
<p><strong>config/urls.py</strong> - Root URL configuration</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># API v1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;api/v1/users/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apps.users.api.v1.urls&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;api/v1/articles/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apps.articles.api.v1.urls&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># API v2 (future)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># path(&#x27;api/v2/users/&#x27;, include(&#x27;apps.users.api.v2.urls&#x27;)),</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># path(&#x27;api/v2/articles/&#x27;, include(&#x27;apps.articles.api.v2.urls&#x27;)),</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>apps/users/api/v1/urls.py</strong> - Version-specific URLs</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">routers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DefaultRouter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> auth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> profile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DefaultRouter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;profiles&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ProfileViewSet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> basename</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;profile&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;auth/login/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LoginView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;login&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;auth/register/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RegisterView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;register&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>When to create v2/</strong> - Only for breaking changes</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># apps/users/api/v2/serializers/profile.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Only create if v2 has DIFFERENT serializer than v1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> serializers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ProfileSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># v2 changes: Added new field, removed old field</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    full_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;get_full_name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># NEW</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Removed &#x27;first_name&#x27; and &#x27;last_name&#x27; (breaking change)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;email&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;full_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;avatar&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Different from v1</span><br></span></code></pre></div></div>
<p><strong>Reusing unchanged components from v1</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># apps/users/api/v2/views/profile.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># If profile view logic is same, import from v1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ProfileViewSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Or if only serializer changed:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> viewsets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ProfileSerializer  </span><span class="token comment" style="color:#999988;font-style:italic"># v2 serializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user_service </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UserService  </span><span class="token comment" style="color:#999988;font-style:italic"># Same service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">selectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">user_selector </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UserSelector  </span><span class="token comment" style="color:#999988;font-style:italic"># Same selector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ProfileViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Same logic as v1, just different serializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        users </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserSelector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_active_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Same selector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ProfileSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> many</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># v2 serializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-this-architecture">Why This Architecture?<a href="#why-this-architecture" class="hash-link" aria-label="Direct link to Why This Architecture?" title="Direct link to Why This Architecture?" translate="no">​</a></h4>
<p><strong>Traditional (Fat Views):</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># All logic in view - hard to test, reuse, maintain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ArticleViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 50+ lines of business logic here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Hard to test, hard to reuse</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><br></span></code></pre></div></div>
<p><strong>Service/Selector Pattern (Thin Views):</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># View is just coordination - easy to test, reuse</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ArticleViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        articles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ArticleSelector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_published_articles</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ArticleSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">articles</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> many</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        article </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ArticleService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_article</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ArticleSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">article</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">201</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">Views are 5-10 lines (coordination only)</li>
<li class="">Business logic is reusable (services)</li>
<li class="">Queries are optimized (selectors)</li>
<li class="">Easy to test each layer</li>
<li class="">Easy to find code</li>
<li class="">Prevents code duplication</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-serializer-relations-hyperlinkedmodelserializer-vs-modelserializer">8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer<a href="#8-serializer-relations-hyperlinkedmodelserializer-vs-modelserializer" class="hash-link" aria-label="Direct link to 8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer" title="Direct link to 8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="approach-comparison">Approach Comparison<a href="#approach-comparison" class="hash-link" aria-label="Direct link to Approach Comparison" title="Direct link to Approach Comparison" translate="no">​</a></h4>
<p><strong>Option 1: HyperlinkedModelSerializer (Recommended for Public APIs)</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> serializers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HyperlinkedModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;username&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;email&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;groups&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Response:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/users/1/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;groups&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/groups/1/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/groups/2/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Option 2: ModelSerializer (Simpler for Internal APIs)</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;username&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;email&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;groups&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Response:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;groups&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-each-approach">When to Use Each Approach<a href="#when-to-use-each-approach" class="hash-link" aria-label="Direct link to When to Use Each Approach" title="Direct link to When to Use Each Approach" translate="no">​</a></h4>
<table><thead><tr><th>Aspect</th><th>HyperlinkedModelSerializer</th><th>ModelSerializer</th></tr></thead><tbody><tr><td><strong>Use When</strong></td><td>Building public/external APIs</td><td>Building internal/private APIs</td></tr><tr><td><strong>Best For</strong></td><td>RESTful, discoverable APIs</td><td>Simple, fast responses</td></tr><tr><td><strong>Client Type</strong></td><td>Web browsers, third-party apps</td><td>Mobile apps, SPAs with known structure</td></tr><tr><td><strong>Response Size</strong></td><td>Larger (full URLs)</td><td>Smaller (just IDs)</td></tr><tr><td><strong>Discoverability</strong></td><td>High (self-documenting)</td><td>Low (requires documentation)</td></tr><tr><td><strong>Client Complexity</strong></td><td>Lower (follow links)</td><td>Higher (construct URLs)</td></tr><tr><td><strong>Performance</strong></td><td>Slightly slower (URL generation)</td><td>Faster (simple IDs)</td></tr><tr><td><strong>Caching</strong></td><td>Better (full URLs cacheable)</td><td>Requires client-side URL construction</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-hyperlinkedmodelserializer-is-better-for-public-apis">Why HyperlinkedModelSerializer is Better for Public APIs<a href="#why-hyperlinkedmodelserializer-is-better-for-public-apis" class="hash-link" aria-label="Direct link to Why HyperlinkedModelSerializer is Better for Public APIs" title="Direct link to Why HyperlinkedModelSerializer is Better for Public APIs" translate="no">​</a></h4>
<ol>
<li class=""><strong>HATEOAS Compliance:</strong> Follows Hypermedia as the Engine of Application State principle</li>
<li class=""><strong>Self-Documenting:</strong> Clients can discover related resources without documentation</li>
<li class=""><strong>Decoupling:</strong> URL structure changes don&#x27;t break clients</li>
<li class=""><strong>Navigation:</strong> Clients can follow links without constructing URLs</li>
<li class=""><strong>RESTful:</strong> Aligns with REST architectural principles</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-modelserializer-is-better-for-internal-apis">Why ModelSerializer is Better for Internal APIs<a href="#why-modelserializer-is-better-for-internal-apis" class="hash-link" aria-label="Direct link to Why ModelSerializer is Better for Internal APIs" title="Direct link to Why ModelSerializer is Better for Internal APIs" translate="no">​</a></h4>
<ol>
<li class=""><strong>Performance:</strong> Smaller payload size, faster serialization</li>
<li class=""><strong>Simplicity:</strong> Easier to understand and implement</li>
<li class=""><strong>Known Structure:</strong> Internal clients already know URL patterns</li>
<li class=""><strong>Bandwidth:</strong> Reduces data transfer for mobile/low-bandwidth scenarios</li>
<li class=""><strong>Caching:</strong> Client can cache ID-to-URL mappings</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="hybrid-approach-best-of-both-worlds">Hybrid Approach (Best of Both Worlds)<a href="#hybrid-approach-best-of-both-worlds" class="hash-link" aria-label="Direct link to Hybrid Approach (Best of Both Worlds)" title="Direct link to Hybrid Approach (Best of Both Worlds)" translate="no">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HyperlinkedModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">read_only</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Include both</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;username&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;email&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;groups&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Response includes both ID and URL:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/users/1/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;groups&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/groups/1/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;http://api.example.com/groups/2/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>When to Use Hybrid:</strong></p>
<ul>
<li class="">APIs serving both web and mobile clients</li>
<li class="">Transitioning from ID-based to hyperlinked</li>
<li class="">Need flexibility for different client types</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="http-methods-usage">HTTP Methods Usage<a href="#http-methods-usage" class="hash-link" aria-label="Direct link to HTTP Methods Usage" title="Direct link to HTTP Methods Usage" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get---retrieve-resources">GET - Retrieve Resources<a href="#get---retrieve-resources" class="hash-link" aria-label="Direct link to GET - Retrieve Resources" title="Direct link to GET - Retrieve Resources" translate="no">​</a></h3>
<ul>
<li class="">Should be idempotent and safe</li>
<li class="">Must NOT alter state</li>
<li class="">Use for fetching data only</li>
</ul>
<p><strong>Bad Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /users/711/activate  # Altering state with GET</span><br></span></code></pre></div></div>
<p><strong>Good Practice:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /users/711/activation  # Use POST for state changes</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="post---create-resources">POST - Create Resources<a href="#post---create-resources" class="hash-link" aria-label="Direct link to POST - Create Resources" title="Direct link to POST - Create Resources" translate="no">​</a></h3>
<ul>
<li class="">Creates new resources</li>
<li class="">Returns 201 Created with Location header on success</li>
<li class="">Returns 400 Bad Request for validation errors (never 422)</li>
<li class="">Non-idempotent</li>
</ul>
<blockquote>
<p><strong>📖 Reference:</strong> See <code>09-Error-Handling-and-Status-Codes.md</code> for complete HTTP status code usage guide.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="put-vs-patch-when-to-use-each">PUT vs PATCH: When to Use Each<a href="#put-vs-patch-when-to-use-each" class="hash-link" aria-label="Direct link to PUT vs PATCH: When to Use Each" title="Direct link to PUT vs PATCH: When to Use Each" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="detailed-comparison">Detailed Comparison<a href="#detailed-comparison" class="hash-link" aria-label="Direct link to Detailed Comparison" title="Direct link to Detailed Comparison" translate="no">​</a></h4>
<p><strong>PUT - Full Resource Replacement</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># PUT requires ALL fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUT </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">users</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;first_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;last_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;bio&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Software developer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;avatar&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://example.com/avatar.jpg&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>PATCH - Partial Resource Update</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># PATCH requires only changed fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PATCH </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">users</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;newemail@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-put">When to Use PUT<a href="#when-to-use-put" class="hash-link" aria-label="Direct link to When to Use PUT" title="Direct link to When to Use PUT" translate="no">​</a></h4>
<table><thead><tr><th>Scenario</th><th>Why PUT is Better</th></tr></thead><tbody><tr><td><strong>Complete replacement</strong></td><td>Client has full resource representation</td></tr><tr><td><strong>Form submissions</strong></td><td>All fields are available from form</td></tr><tr><td><strong>Data synchronization</strong></td><td>Ensuring complete state match</td></tr><tr><td><strong>Versioning conflicts</strong></td><td>Preventing partial updates on stale data</td></tr><tr><td><strong>Simple clients</strong></td><td>Client doesn&#x27;t need to track changes</td></tr></tbody></table>
<p><strong>PUT Implementation:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> viewsets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;PUT - Requires all fields&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-patch">When to Use PATCH<a href="#when-to-use-patch" class="hash-link" aria-label="Direct link to When to Use PATCH" title="Direct link to When to Use PATCH" translate="no">​</a></h4>
<table><thead><tr><th>Scenario</th><th>Why PATCH is Better</th></tr></thead><tbody><tr><td><strong>Single field updates</strong></td><td>Changing email, password, or status</td></tr><tr><td><strong>Mobile apps</strong></td><td>Reduces bandwidth usage</td></tr><tr><td><strong>Progressive forms</strong></td><td>Multi-step data collection</td></tr><tr><td><strong>Optimistic updates</strong></td><td>UI updates before server confirmation</td></tr><tr><td><strong>Large resources</strong></td><td>Avoid sending entire object</td></tr></tbody></table>
<p><strong>PATCH Implementation:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">partial_update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;PATCH - Accepts partial data&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UserSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> partial</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-patch-is-generally-preferred">Why PATCH is Generally Preferred<a href="#why-patch-is-generally-preferred" class="hash-link" aria-label="Direct link to Why PATCH is Generally Preferred" title="Direct link to Why PATCH is Generally Preferred" translate="no">​</a></h4>
<ol>
<li class=""><strong>Bandwidth Efficiency:</strong> Only send changed fields</li>
<li class=""><strong>Flexibility:</strong> Clients don&#x27;t need complete resource state</li>
<li class=""><strong>User Experience:</strong> Faster updates, better for mobile</li>
<li class=""><strong>Concurrent Updates:</strong> Less likely to overwrite other users&#x27; changes</li>
<li class=""><strong>API Evolution:</strong> New fields don&#x27;t break existing clients</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-put-might-be-better">Why PUT Might Be Better<a href="#why-put-might-be-better" class="hash-link" aria-label="Direct link to Why PUT Might Be Better" title="Direct link to Why PUT Might Be Better" translate="no">​</a></h4>
<ol>
<li class=""><strong>Simplicity:</strong> Clear &quot;replace everything&quot; semantics</li>
<li class=""><strong>Consistency:</strong> Guaranteed complete state after update</li>
<li class=""><strong>Validation:</strong> Easier to validate complete resource</li>
<li class=""><strong>Conflict Prevention:</strong> Ensures no partial/inconsistent states</li>
<li class=""><strong>Idempotency:</strong> Repeated calls have same effect</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practice-support-both">Best Practice: Support Both<a href="#best-practice-support-both" class="hash-link" aria-label="Direct link to Best Practice: Support Both" title="Direct link to Best Practice: Support Both" translate="no">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserViewSet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">viewsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http_method_names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;get&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;post&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;put&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;patch&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;delete&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;PUT - Full update&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">partial_update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;PATCH - Partial update&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">partial_update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pk</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Decision Matrix:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Use PUT when:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Client has complete resource representation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Need to ensure complete state consistency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Replacing entire resource is the intent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Simpler client implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use PATCH when:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Updating one or few fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Optimizing for bandwidth/performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Building mobile or progressive web apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Supporting partial/incremental updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Default choice for most update operations</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="delete---remove-resources">DELETE - Remove Resources<a href="#delete---remove-resources" class="hash-link" aria-label="Direct link to DELETE - Remove Resources" title="Direct link to DELETE - Remove Resources" translate="no">​</a></h3>
<ul>
<li class="">Deletes resources</li>
<li class="">Idempotent</li>
<li class="">Returns 204 No Content on success</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="api-inventory-and-documentation">API Inventory and Documentation<a href="#api-inventory-and-documentation" class="hash-link" aria-label="Direct link to API Inventory and Documentation" title="Direct link to API Inventory and Documentation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="maintain-api-inventory">Maintain API Inventory<a href="#maintain-api-inventory" class="hash-link" aria-label="Direct link to Maintain API Inventory" title="Direct link to Maintain API Inventory" translate="no">​</a></h3>
<p>Keep a comprehensive inventory of all API hosts and endpoints.</p>
<p><strong>Document:</strong></p>
<ul>
<li class="">API version and environment (production, staging, development)</li>
<li class="">Network access requirements (public, internal, partners)</li>
<li class="">Authentication methods</li>
<li class="">Rate limits and SLAs</li>
<li class="">All endpoints with parameters, requests, and responses</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-api-roadmap">Create API Roadmap<a href="#create-api-roadmap" class="hash-link" aria-label="Direct link to Create API Roadmap" title="Direct link to Create API Roadmap" translate="no">​</a></h3>
<ul>
<li class="">Track what&#x27;s coming</li>
<li class="">Document what&#x27;s being deprecated</li>
<li class="">Communicate changes like product releases</li>
<li class="">Maintain changelog</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-for-scalability">Design for Scalability<a href="#design-for-scalability" class="hash-link" aria-label="Direct link to Design for Scalability" title="Direct link to Design for Scalability" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-targets">Performance Targets<a href="#performance-targets" class="hash-link" aria-label="Direct link to Performance Targets" title="Direct link to Performance Targets" translate="no">​</a></h3>
<ul>
<li class="">Set latency targets (e.g., 95% of calls &lt; 300ms)</li>
<li class="">Monitor and track performance metrics</li>
<li class="">Treat performance as ongoing maintenance</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="build-performance-first">Build Performance-First<a href="#build-performance-first" class="hash-link" aria-label="Direct link to Build Performance-First" title="Direct link to Build Performance-First" translate="no">​</a></h3>
<ul>
<li class="">Implement pagination by default</li>
<li class="">Fix N+1 query problems</li>
<li class="">Cache heavy read operations</li>
<li class="">Use database indexing strategically</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Key takeaways for API design and architecture:</p>
<ol>
<li class=""><strong>Consistency:</strong> Use plural nouns, spinal-case, and consistent patterns</li>
<li class=""><strong>Simplicity:</strong> Avoid deep nesting, use query parameters for filtering</li>
<li class=""><strong>RESTful:</strong> Use proper HTTP methods, hyperlinked relations</li>
<li class=""><strong>Scalability:</strong> Design with performance in mind from the start</li>
<li class=""><strong>Documentation:</strong> Maintain comprehensive API inventory and roadmap</li>
<li class=""><strong>Product Mindset:</strong> Treat APIs as strategic products, not just technical implementations</li>
</ol>
<p>Following these best practices ensures your Django REST Framework APIs are maintainable, scalable, and developer-friendly.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/pragnakalp/django-rest-best-practices/tree/main/docs/API-Design-and-Architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/django-rest-best-practices/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Django REST Framework Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/django-rest-best-practices/Serializers-Best-Practices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Serializers Best Practices</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#core-principles" class="table-of-contents__link toc-highlight">Core Principles</a><ul><li><a href="#1-treat-your-api-as-a-product" class="table-of-contents__link toc-highlight">1. Treat Your API as a Product</a></li><li><a href="#2-restful-uri-design" class="table-of-contents__link toc-highlight">2. RESTful URI Design</a></li><li><a href="#3-dont-nest-resources-deeply" class="table-of-contents__link toc-highlight">3. Don&#39;t Nest Resources Deeply</a></li><li><a href="#4-handle-trailing-slashes-gracefully" class="table-of-contents__link toc-highlight">4. Handle Trailing Slashes Gracefully</a></li><li><a href="#5-pagination-strategies-choosing-the-right-approach" class="table-of-contents__link toc-highlight">5. Pagination Strategies: Choosing the Right Approach</a></li><li><a href="#6-return-proper-content-types" class="table-of-contents__link toc-highlight">6. Return Proper Content Types</a></li><li><a href="#7-project-structure-best-practices" class="table-of-contents__link toc-highlight">7. Project Structure Best Practices</a></li><li><a href="#8-serializer-relations-hyperlinkedmodelserializer-vs-modelserializer" class="table-of-contents__link toc-highlight">8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer</a></li></ul></li><li><a href="#http-methods-usage" class="table-of-contents__link toc-highlight">HTTP Methods Usage</a><ul><li><a href="#get---retrieve-resources" class="table-of-contents__link toc-highlight">GET - Retrieve Resources</a></li><li><a href="#post---create-resources" class="table-of-contents__link toc-highlight">POST - Create Resources</a></li><li><a href="#put-vs-patch-when-to-use-each" class="table-of-contents__link toc-highlight">PUT vs PATCH: When to Use Each</a></li><li><a href="#delete---remove-resources" class="table-of-contents__link toc-highlight">DELETE - Remove Resources</a></li></ul></li><li><a href="#api-inventory-and-documentation" class="table-of-contents__link toc-highlight">API Inventory and Documentation</a><ul><li><a href="#maintain-api-inventory" class="table-of-contents__link toc-highlight">Maintain API Inventory</a></li><li><a href="#create-api-roadmap" class="table-of-contents__link toc-highlight">Create API Roadmap</a></li></ul></li><li><a href="#design-for-scalability" class="table-of-contents__link toc-highlight">Design for Scalability</a><ul><li><a href="#performance-targets" class="table-of-contents__link toc-highlight">Performance Targets</a></li><li><a href="#build-performance-first" class="table-of-contents__link toc-highlight">Build Performance-First</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">
          Copyright © 2026
          <a href="https://pragnakalp.com" target="_blank" rel="noopener noreferrer">
            Pragnakalp Techlabs
          </a>.
          All rights reserved.
        </div></div></div></footer></div>
</body>
</html>