"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[30],{5093(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"API-Design-and-Architecture","title":"API Design & Architecture Best Practices","description":"Overview","source":"@site/docs/API-Design-and-Architecture.md","sourceDirName":".","slug":"/API-Design-and-Architecture","permalink":"/django-rest-best-practices/API-Design-and-Architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/pragnakalp/django-rest-best-practices/tree/main/docs/API-Design-and-Architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Django REST Framework Best Practices","permalink":"/django-rest-best-practices/"},"next":{"title":"Serializers Best Practices","permalink":"/django-rest-best-practices/Serializers-Best-Practices"}}');var r=s(4848),t=s(8453);const l={},a="API Design & Architecture Best Practices",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Core Principles",id:"core-principles",level:2},{value:"1. Treat Your API as a Product",id:"1-treat-your-api-as-a-product",level:3},{value:"2. RESTful URI Design",id:"2-restful-uri-design",level:3},{value:"Use Plural Resource Nouns",id:"use-plural-resource-nouns",level:4},{value:"Avoid Verbs in URIs",id:"avoid-verbs-in-uris",level:4},{value:"Use Consistent URI Case",id:"use-consistent-uri-case",level:4},{value:"3. Don&#39;t Nest Resources Deeply",id:"3-dont-nest-resources-deeply",level:3},{value:"4. Handle Trailing Slashes Gracefully",id:"4-handle-trailing-slashes-gracefully",level:3},{value:"5. Pagination Strategies: Choosing the Right Approach",id:"5-pagination-strategies-choosing-the-right-approach",level:3},{value:"Three Main Pagination Approaches",id:"three-main-pagination-approaches",level:4},{value:"Detailed Implementation Comparison",id:"detailed-implementation-comparison",level:4},{value:"Performance Comparison",id:"performance-comparison",level:4},{value:"Decision Matrix",id:"decision-matrix",level:4},{value:"Filtering Best Practices",id:"filtering-best-practices",level:4},{value:"6. Return Proper Content Types",id:"6-return-proper-content-types",level:3},{value:"7. Project Structure Best Practices",id:"7-project-structure-best-practices",level:3},{value:"Recommended Structure (Production-Ready with Versioning)",id:"recommended-structure-production-ready-with-versioning",level:4},{value:"Architecture Explanation",id:"architecture-explanation",level:4},{value:"Service Layer Pattern",id:"service-layer-pattern",level:4},{value:"Selector Layer Pattern",id:"selector-layer-pattern",level:4},{value:"Using Services and Selectors in Views",id:"using-services-and-selectors-in-views",level:4},{value:"API Versioning in Practice",id:"api-versioning-in-practice",level:4},{value:"Why This Architecture?",id:"why-this-architecture",level:4},{value:"8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer",id:"8-serializer-relations-hyperlinkedmodelserializer-vs-modelserializer",level:3},{value:"Approach Comparison",id:"approach-comparison",level:4},{value:"When to Use Each Approach",id:"when-to-use-each-approach",level:4},{value:"Why HyperlinkedModelSerializer is Better for Public APIs",id:"why-hyperlinkedmodelserializer-is-better-for-public-apis",level:4},{value:"Why ModelSerializer is Better for Internal APIs",id:"why-modelserializer-is-better-for-internal-apis",level:4},{value:"Hybrid Approach (Best of Both Worlds)",id:"hybrid-approach-best-of-both-worlds",level:4},{value:"HTTP Methods Usage",id:"http-methods-usage",level:2},{value:"GET - Retrieve Resources",id:"get---retrieve-resources",level:3},{value:"POST - Create Resources",id:"post---create-resources",level:3},{value:"PUT vs PATCH: When to Use Each",id:"put-vs-patch-when-to-use-each",level:3},{value:"Detailed Comparison",id:"detailed-comparison",level:4},{value:"When to Use PUT",id:"when-to-use-put",level:4},{value:"When to Use PATCH",id:"when-to-use-patch",level:4},{value:"Why PATCH is Generally Preferred",id:"why-patch-is-generally-preferred",level:4},{value:"Why PUT Might Be Better",id:"why-put-might-be-better",level:4},{value:"Best Practice: Support Both",id:"best-practice-support-both",level:4},{value:"DELETE - Remove Resources",id:"delete---remove-resources",level:3},{value:"API Inventory and Documentation",id:"api-inventory-and-documentation",level:2},{value:"Maintain API Inventory",id:"maintain-api-inventory",level:3},{value:"Create API Roadmap",id:"create-api-roadmap",level:3},{value:"Design for Scalability",id:"design-for-scalability",level:2},{value:"Performance Targets",id:"performance-targets",level:3},{value:"Build Performance-First",id:"build-performance-first",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-design--architecture-best-practices",children:"API Design & Architecture Best Practices"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This document consolidates best practices for designing robust, scalable, and maintainable REST APIs using Django REST Framework."}),"\n",(0,r.jsx)(n.h2,{id:"core-principles",children:"Core Principles"}),"\n",(0,r.jsx)(n.h3,{id:"1-treat-your-api-as-a-product",children:"1. Treat Your API as a Product"}),"\n",(0,r.jsx)(n.p,{children:"APIs are not just technical implementations but strategic products that power applications, integrations, and revenue models."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Actions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Assign a clear API owner (team or squad)"}),"\n",(0,r.jsx)(n.li,{children:"Maintain an API roadmap (features, deprecations, improvements)"}),"\n",(0,r.jsx)(n.li,{children:"Set SLAs and KPIs (uptime, latency, errors, adoption metrics)"}),"\n",(0,r.jsx)(n.li,{children:"Track API usage and performance metrics"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Transforms endpoints into strategic assets"}),"\n",(0,r.jsx)(n.li,{children:"Enables measurable impact and governance"}),"\n",(0,r.jsx)(n.li,{children:"Facilitates better planning and resource allocation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-restful-uri-design",children:"2. RESTful URI Design"}),"\n",(0,r.jsx)(n.h4,{id:"use-plural-resource-nouns",children:"Use Plural Resource Nouns"}),"\n",(0,r.jsx)(n.p,{children:"Always use plural nouns for resource endpoints to maintain consistency."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /article/:id/\nGET: /user/123/\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/:id/\nGET: /users/123/\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rationale:"})," Fits all endpoint types and maintains consistency whether returning single or multiple resources."]}),"\n",(0,r.jsx)(n.h4,{id:"avoid-verbs-in-uris",children:"Avoid Verbs in URIs"}),"\n",(0,r.jsx)(n.p,{children:"HTTP verbs should describe the action; URIs should identify resources."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/:slug/generateBanner/\nPOST: /users/711/activate\nGET: /deleteUser/123\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/:slug/banner/\nPOST: /users/711/activation\nDELETE: /users/123\n"})}),"\n",(0,r.jsx)(n.h4,{id:"use-consistent-uri-case",children:"Use Consistent URI Case"}),"\n",(0,r.jsxs)(n.p,{children:["Adopt ",(0,r.jsx)(n.strong,{children:"spinal-case"})," (kebab-case) for URIs as recommended by RFC3986."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Recommended:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/api/user-profiles/\n/api/blog-posts/\n/api/order-items/\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Avoid:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CamelCase: Ineffective in case-insensitive contexts"}),"\n",(0,r.jsx)(n.li,{children:"snake_case: Less common in web URLs"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Industry Standard:"})," Used by Google, PayPal, and other major companies."]}),"\n",(0,r.jsx)(n.h3,{id:"3-dont-nest-resources-deeply",children:"3. Don't Nest Resources Deeply"}),"\n",(0,r.jsx)(n.p,{children:"Avoid deeply nested resource URIs. Use query parameters for filtering instead."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /authors/12/articles/5/comments/3\nGET: /users/1/posts/2/comments/3/replies/4\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/?author_id=12\nGET: /comments/?article_id=5\nGET: /comments/3\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Simpler URL structure"}),"\n",(0,r.jsx)(n.li,{children:"Easier to maintain and scale"}),"\n",(0,r.jsx)(n.li,{children:"More flexible filtering options"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"4-handle-trailing-slashes-gracefully",children:"4. Handle Trailing Slashes Gracefully"}),"\n",(0,r.jsx)(n.p,{children:"Choose one convention (with or without trailing slash) and stick to it. Configure your framework to redirect gracefully."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Django Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# settings.py\nAPPEND_SLASH = True  # Redirects /api/users to /api/users/\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best Practice:"})," Most web frameworks have built-in options for this. Enable them to avoid 404 errors."]}),"\n",(0,r.jsx)(n.h3,{id:"5-pagination-strategies-choosing-the-right-approach",children:"5. Pagination Strategies: Choosing the Right Approach"}),"\n",(0,r.jsx)(n.h4,{id:"three-main-pagination-approaches",children:"Three Main Pagination Approaches"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Approach 1: Page Number Pagination (Most Common)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/?page=2&page_size=20\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Easy to understand and implement"}),"\n",(0,r.jsx)(n.li,{children:"Users can jump to any page"}),"\n",(0,r.jsx)(n.li,{children:"Good for UI with page numbers"}),"\n",(0,r.jsx)(n.li,{children:"Predictable page count"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Performance degrades with large offsets"}),"\n",(0,r.jsx)(n.li,{children:"Inconsistent results if data changes between requests"}),"\n",(0,r.jsx)(n.li,{children:"Can miss or duplicate items with concurrent writes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use When:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Building traditional web UIs with page numbers"}),"\n",(0,r.jsx)(n.li,{children:"Dataset is relatively stable"}),"\n",(0,r.jsx)(n.li,{children:"Users need to jump to specific pages"}),"\n",(0,r.jsx)(n.li,{children:"Total count is important to display"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Approach 2: Limit/Offset Pagination"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/?limit=20&offset=40\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Flexible (any offset value)"}),"\n",(0,r.jsx)(n.li,{children:"Simple to implement"}),"\n",(0,r.jsx)(n.li,{children:"Good for infinite scroll"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Same performance issues as page number"}),"\n",(0,r.jsx)(n.li,{children:"Offset can become very large"}),"\n",(0,r.jsx)(n.li,{children:"Database query cost increases with offset"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use When:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Need flexibility in result positioning"}),"\n",(0,r.jsx)(n.li,{children:"Implementing infinite scroll"}),"\n",(0,r.jsx)(n.li,{children:"Dataset is small to medium size"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Approach 3: Cursor Pagination (Best for Large Datasets)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/?cursor=eyJpZCI6MTAwfQ==\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Consistent results even with data changes"}),"\n",(0,r.jsx)(n.li,{children:"Excellent performance (no offset)"}),"\n",(0,r.jsx)(n.li,{children:"No duplicate or missing items"}),"\n",(0,r.jsx)(n.li,{children:"Scales to very large datasets"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Can't jump to arbitrary pages"}),"\n",(0,r.jsx)(n.li,{children:"More complex to implement"}),"\n",(0,r.jsx)(n.li,{children:"Requires ordered field (usually ID or timestamp)"}),"\n",(0,r.jsx)(n.li,{children:"Can't show total page count"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use When:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Building real-time feeds (Twitter, Facebook style)"}),"\n",(0,r.jsx)(n.li,{children:"Dataset is very large (millions of records)"}),"\n",(0,r.jsx)(n.li,{children:"Data changes frequently"}),"\n",(0,r.jsx)(n.li,{children:"Performance is critical"}),"\n",(0,r.jsx)(n.li,{children:"Infinite scroll without page numbers"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"detailed-implementation-comparison",children:"Detailed Implementation Comparison"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Page Number Pagination:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from rest_framework.pagination import PageNumberPagination\n\nclass StandardPagination(PageNumberPagination):\n    page_size = 20\n    page_size_query_param = \'page_size\'\n    max_page_size = 100\n\n# Response:\n{\n  "count": 1000,\n  "next": "http://api.example.com/articles/?page=3",\n  "previous": "http://api.example.com/articles/?page=1",\n  "results": [...]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cursor Pagination:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from rest_framework.pagination import CursorPagination\n\nclass ArticleCursorPagination(CursorPagination):\n    page_size = 20\n    ordering = \'-created_at\'  # Required!\n\n# Response:\n{\n  "next": "http://api.example.com/articles/?cursor=cD0yMDIw...",\n  "previous": "http://api.example.com/articles/?cursor=cj0xJnA9MjAyMA==",\n  "results": [...]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"performance-comparison",children:"Performance Comparison"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Dataset Size"}),(0,r.jsx)(n.th,{children:"Page Number"}),(0,r.jsx)(n.th,{children:"Cursor"}),(0,r.jsx)(n.th,{children:"Winner"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"< 1,000"}),(0,r.jsx)(n.td,{children:"Fast"}),(0,r.jsx)(n.td,{children:"Fast"}),(0,r.jsx)(n.td,{children:"Page Number (simpler)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1,000 - 10,000"}),(0,r.jsx)(n.td,{children:"Medium"}),(0,r.jsx)(n.td,{children:"Fast"}),(0,r.jsx)(n.td,{children:"Cursor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"10,000 - 100,000"}),(0,r.jsx)(n.td,{children:"Slow"}),(0,r.jsx)(n.td,{children:"Fast"}),(0,r.jsx)(n.td,{children:"Cursor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"> 100,000"}),(0,r.jsx)(n.td,{children:"Very Slow"}),(0,r.jsx)(n.td,{children:"Fast"}),(0,r.jsx)(n.td,{children:"Cursor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Real-time feeds"}),(0,r.jsx)(n.td,{children:"Inconsistent"}),(0,r.jsx)(n.td,{children:"Consistent"}),(0,r.jsx)(n.td,{children:"Cursor"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"decision-matrix",children:"Decision Matrix"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Use Page Number Pagination when:\n\u2713 Building traditional web UIs\n\u2713 Need to show total page count\n\u2713 Users need to jump to specific pages\n\u2713 Dataset < 10,000 records\n\u2713 Data is relatively stable\n\nUse Cursor Pagination when:\n\u2713 Building infinite scroll feeds\n\u2713 Dataset > 10,000 records\n\u2713 Data changes frequently\n\u2713 Performance is critical\n\u2713 Building mobile apps\n\u2713 Real-time or social media style feeds\n\nUse Limit/Offset when:\n\u2713 Need maximum flexibility\n\u2713 Internal APIs with known usage\n\u2713 Prototyping or simple use cases\n"})}),"\n",(0,r.jsx)(n.h4,{id:"filtering-best-practices",children:"Filtering Best Practices"}),"\n",(0,r.jsx)(n.p,{children:"Allow users to filter resources based on specific properties."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET: /articles/?published=true\nGET: /articles/?author=john&category=tech\nGET: /users/?is_active=true&role=admin\nGET: /articles/?created_after=2024-01-01&published=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"6-return-proper-content-types",children:"6. Return Proper Content Types"}),"\n",(0,r.jsxs)(n.p,{children:["Always set the ",(0,r.jsx)(n.code,{children:"Content-Type"})," header to ",(0,r.jsx)(n.code,{children:"application/json"})," for JSON responses."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"return \"{'message': 'success'}\"  # Plain text\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from rest_framework.response import Response\n\nreturn Response({'message': 'success'})  # Automatically sets Content-Type\n"})}),"\n",(0,r.jsx)(n.h3,{id:"7-project-structure-best-practices",children:"7. Project Structure Best Practices"}),"\n",(0,r.jsx)(n.h4,{id:"recommended-structure-production-ready-with-versioning",children:"Recommended Structure (Production-Ready with Versioning)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"project/\n\u251c\u2500\u2500 config/\n\u2502   \u251c\u2500\u2500 settings/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py              # Makes directory a Python package\n\u2502   \u2502   \u251c\u2500\u2500 base.py                  # Common settings for all environments\n\u2502   \u2502   \u251c\u2500\u2500 development.py           # Local dev settings (DEBUG=True)\n\u2502   \u2502   \u251c\u2500\u2500 staging.py               # Pre-prod testing environment\n\u2502   \u2502   \u2514\u2500\u2500 production.py            # Live production settings (DEBUG=False)\n\u2502   \u251c\u2500\u2500 urls.py                      # Root URL routing to app APIs\n\u2502   \u251c\u2500\u2500 schema.py                    # drf-spectacular OpenAPI schema config\n\u2502   \u251c\u2500\u2500 asgi.py                      # ASGI config for async (channels, etc.)\n\u2502   \u2514\u2500\u2500 wsgi.py                      # WSGI config for traditional serving\n\u2502\n\u251c\u2500\u2500 apps/\n\u2502   \u251c\u2500\u2500 users/\n\u2502   \u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 v1/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 views/\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py           # Package init\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.py               # Login/register/logout views\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 profile.py            # User profile CRUD views\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 admin.py              # Admin-only user management\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 serializers/\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py           # Package init\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.py               # Auth request/response serialization\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 profile.py            # Profile data validation/serialization\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 admin.py              # Admin user data serialization\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 urls.py                   # v1 API endpoint routing\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 permissions.py            # Custom permission classes\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 v2/                           # Future API version (empty)\n\u2502   \u2502   \u251c\u2500\u2500 models.py                        # User, Profile models (SINGLE FILE)\n\u2502   \u2502   \u251c\u2500\u2500 managers.py                      # Custom QuerySet methods\n\u2502   \u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py                  # Package init\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth_service.py              # Password hash, token generation\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 user_service.py              # User create/update/delete logic\n\u2502   \u2502   \u251c\u2500\u2500 selectors/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py                  # Package init\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 user_selector.py             # Complex read queries (filtering)\n\u2502   \u2502   \u251c\u2500\u2500 validators.py                    # Model-level custom validators\n\u2502   \u2502   \u251c\u2500\u2500 tasks.py                         # Celery async tasks (email, etc.)\n\u2502   \u2502   \u251c\u2500\u2500 signals.py                       # post_save, post_delete hooks\n\u2502   \u2502   \u251c\u2500\u2500 admin.py                         # Django admin interface config\n\u2502   \u2502   \u251c\u2500\u2500 migrations/                      # Auto-generated DB migrations\n\u2502   \u2502   \u2514\u2500\u2500 tests/\n\u2502   \u2502       \u251c\u2500\u2500 __init__.py                  # Package init\n\u2502   \u2502       \u251c\u2500\u2500 test_models.py               # Model validation tests\n\u2502   \u2502       \u251c\u2500\u2500 test_services.py             # Business logic tests\n\u2502   \u2502       \u251c\u2500\u2500 test_selectors.py            # Query tests\n\u2502   \u2502       \u251c\u2500\u2500 test_views.py                # API endpoint tests\n\u2502   \u2502       \u2514\u2500\u2500 factories.py                 # Test data factories (FactoryBoy)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 articles/\n\u2502   \u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 v1/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 views/\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py           # Package init\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 article.py            # Article CRUD views\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 comment.py            # Comment CRUD views\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 admin.py              # Article admin views\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 serializers/\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py           # Package init\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 article.py            # Article serialization\n\u2502   \u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 comment.py            # Comment serialization\n\u2502   \u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 admin.py              # Admin serialization\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 urls.py                   # v1 article API routing\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 v2/                           # Future API version\n\u2502   \u2502   \u251c\u2500\u2500 models.py                        # Article, Comment, Tag (SINGLE FILE)\n\u2502   \u2502   \u251c\u2500\u2500 managers.py                      # ArticleQuerySet custom methods\n\u2502   \u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py                  # Package init\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 article_service.py           # Article create/publish logic\n\u2502   \u2502   \u251c\u2500\u2500 selectors/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 __init__.py                  # Package init\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 article_selector.py          # Article filtering/pagination\n\u2502   \u2502   \u251c\u2500\u2500 validators.py                    # Article content validation\n\u2502   \u2502   \u251c\u2500\u2500 tasks.py                         # Async publishing, notifications\n\u2502   \u2502   \u251c\u2500\u2500 signals.py                       # Article publish hooks\n\u2502   \u2502   \u251c\u2500\u2500 admin.py                         # Article admin interface\n\u2502   \u2502   \u251c\u2500\u2500 migrations/                      # DB migrations\n\u2502   \u2502   \u2514\u2500\u2500 tests/                           # Same test structure as users/\n\u2502\n\u251c\u2500\u2500 common/\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                     # Package init\n\u2502   \u2502   \u251c\u2500\u2500 pagination.py                   # Custom pagination classes\n\u2502   \u2502   \u251c\u2500\u2500 exceptions.py                   # APIException subclasses\n\u2502   \u2502   \u251c\u2500\u2500 response.py                     # Standardized API responses\n\u2502   \u2502   \u2514\u2500\u2500 filters.py                      # django-filter configurations\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                     # Package init\n\u2502   \u2502   \u251c\u2500\u2500 timestamped.py                  # Abstract TimeStampedModel\n\u2502   \u2502   \u2514\u2500\u2500 soft_delete.py                  # Abstract SoftDeleteModel\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py                     # Package init\n\u2502   \u2502   \u251c\u2500\u2500 validators.py                   # Reusable validators\n\u2502   \u2502   \u251c\u2500\u2500 helpers.py                      # Utility functions\n\u2502   \u2502   \u251c\u2500\u2500 constants.py                    # App-wide constants\n\u2502   \u2502   \u2514\u2500\u2500 decorators.py                   # Custom decorators\n\u2502   \u2514\u2500\u2500 middleware/\n\u2502       \u251c\u2500\u2500 __init__.py                     # Package init\n\u2502       \u251c\u2500\u2500 request_logging.py              # Request/response logging\n\u2502       \u2514\u2500\u2500 cors.py                         # CORS configuration\n\u2502\n\u251c\u2500\u2500 requirements/\n\u2502   \u251c\u2500\u2500 base.txt                           # Core dependencies\n\u2502   \u251c\u2500\u2500 development.txt                    # + dev tools (black, pytest)\n\u2502   \u251c\u2500\u2500 staging.txt                        # Staging environment\n\u2502   \u2514\u2500\u2500 production.txt                     # Production + monitoring\n\u2502\n\u251c\u2500\u2500 scripts/\n\u2502   \u251c\u2500\u2500 manage_admin.py                    # Create superuser script\n\u2502   \u2514\u2500\u2500 deploy.py                          # Deployment automation\n\u2502\n\u251c\u2500\u2500 docker/\n\u2502   \u251c\u2500\u2500 Dockerfile                         # Container build instructions\n\u2502   \u251c\u2500\u2500 docker-compose.yml                 # Local dev environment\n\u2502   \u2514\u2500\u2500 nginx.conf                         # Reverse proxy config\n\u2502\n\u251c\u2500\u2500 .github/workflows/\n\u2502   \u2514\u2500\u2500 ci.yml                             # GitHub Actions CI/CD\n\u2502\n\u251c\u2500\u2500 manage.py                              # Django management CLI\n\u251c\u2500\u2500 .env.example                           # Environment variable template\n\u251c\u2500\u2500 .gitignore                             # Git ignore rules\n\u2514\u2500\u2500 README.md                              # Project documentation\n"})}),"\n",(0,r.jsx)(n.h4,{id:"architecture-explanation",children:"Architecture Explanation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"config/"})," - Project configuration"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/__init__.py"})," - Package initialization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/base.py"})," - Common settings (database, installed apps, middleware)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/development.py"})," - Debug mode, local database, dev tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/staging.py"})," - Pre-production testing environment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/production.py"})," - Production settings (security, performance)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"urls.py"})," - Root URL routing to all app APIs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"schema.py"})," - OpenAPI schema configuration (drf-spectacular)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"asgi.py"})," - ASGI server config for async/WebSockets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"wsgi.py"})," - WSGI server config for traditional deployment"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"apps/"})," - Application modules (domain-driven design)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each app is a bounded context (users, articles, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Self-contained with its own API, models, services, tests"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"api/"})," - API layer (per app) with versioning"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"v1/"})," - Current stable API version","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"views/"})," - Split by feature (auth.py, profile.py, admin.py)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"serializers/"})," - Split by feature matching views"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"urls.py"})," - Version-specific URL routing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"permissions.py"})," - Custom permission classes (IsOwner, IsAdmin)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"v2/"})," - Future API version (breaking changes only)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Only include files that differ from v1"}),"\n",(0,r.jsx)(n.li,{children:"Inherit unchanged components from v1"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"models.py"})," - Django models (SINGLE FILE per app)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"All models for the app in one file"}),"\n",(0,r.jsx)(n.li,{children:"Keeps related models together"}),"\n",(0,r.jsx)(n.li,{children:"Easier to understand relationships"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"managers.py"})," - Custom QuerySet managers"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Custom query methods (e.g., ",(0,r.jsx)(n.code,{children:"published()"}),", ",(0,r.jsx)(n.code,{children:"active()"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Reusable query logic"}),"\n",(0,r.jsx)(n.li,{children:"Chainable queryset methods"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"services/"})," - Business logic layer (shared across versions)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Write operations (create, update, delete)"}),"\n",(0,r.jsx)(n.li,{children:"Complex business rules and validation"}),"\n",(0,r.jsx)(n.li,{children:"External API calls"}),"\n",(0,r.jsx)(n.li,{children:"File uploads, email sending"}),"\n",(0,r.jsx)(n.li,{children:"Transaction management"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version-agnostic"})," - Reused by all API versions"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"selectors/"})," - Query layer (shared across versions)"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Read operations (get, list, filter)"}),"\n",(0,r.jsx)(n.li,{children:"Complex queries with joins (select_related, prefetch_related)"}),"\n",(0,r.jsx)(n.li,{children:"Data aggregation and annotations"}),"\n",(0,r.jsx)(n.li,{children:"Keeps views thin"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version-agnostic"})," - Reused by all API versions"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"validators.py"})," - Custom validation logic"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Model-level validators"}),"\n",(0,r.jsx)(n.li,{children:"Field-specific validation rules"}),"\n",(0,r.jsx)(n.li,{children:"Reusable validation functions"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"tasks.py"})," - Celery async tasks"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Background jobs (email sending, notifications)"}),"\n",(0,r.jsx)(n.li,{children:"Scheduled tasks (cleanup, reports)"}),"\n",(0,r.jsx)(n.li,{children:"Long-running operations"}),"\n",(0,r.jsx)(n.li,{children:"Decouples slow operations from request/response"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"signals.py"})," - Django signals"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"post_save, post_delete hooks"}),"\n",(0,r.jsx)(n.li,{children:"Automatic actions on model changes"}),"\n",(0,r.jsx)(n.li,{children:"Decoupled event handling"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"tests/"})," - Comprehensive test suite"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test_models.py"})," - Model validation and methods"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test_services.py"})," - Business logic tests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test_selectors.py"})," - Query optimization tests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test_views.py"})," - API endpoint integration tests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"factories.py"})," - Test data generation (FactoryBoy)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"common/"})," - Shared utilities across all apps"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"api/"})," - Shared API components","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pagination.py"})," - Custom pagination classes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"exceptions.py"})," - Custom exception handlers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"response.py"})," - Standardized API responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filters.py"})," - django-filter configurations"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"models/"})," - Abstract base models","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"timestamped.py"})," - created_at, updated_at fields"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"soft_delete.py"})," - Soft delete functionality"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"utils/"})," - Helper functions","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"validators.py"})," - Reusable validators"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"helpers.py"})," - Utility functions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"constants.py"})," - App-wide constants"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"decorators.py"})," - Custom decorators"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"middleware/"})," - Custom middleware","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"request_logging.py"})," - Log all requests/responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cors.py"})," - CORS configuration"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"requirements/"})," - Dependency management"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"base.txt"})," - Core dependencies (Django, DRF, PostgreSQL)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"development.txt"})," - Dev tools (black, pytest, ipdb)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"staging.txt"})," - Staging-specific packages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"production.txt"})," - Production tools (gunicorn, sentry)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"scripts/"})," - Automation scripts"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"manage_admin.py"})," - Create superuser, manage permissions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"deploy.py"})," - Deployment automation"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"docker/"})," - Containerization"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Dockerfile"})," - Container build instructions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose.yml"})," - Multi-container setup (app, db, redis)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nginx.conf"})," - Reverse proxy configuration"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:".github/workflows/"})," - CI/CD"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ci.yml"})," - Automated testing, linting, deployment"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Root files:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"manage.py"})," - Django management CLI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".env.example"})," - Environment variable template"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".gitignore"})," - Git ignore rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"README.md"})," - Project documentation"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear separation of concerns"})," - API, business logic, data access separated"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scalable"})," - Easy to add new apps and features"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testable"})," - Each layer tested independently with factories"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintainable"})," - Easy to find and modify code"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Team-friendly"})," - Multiple developers can work without conflicts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service/Selector pattern"})," - Keeps views thin, business logic reusable"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API versioning built-in"})," - Support multiple API versions simultaneously"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DRY principle"})," - Services/selectors shared across versions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Production-ready"})," - Docker, CI/CD, environment configs included"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Async support"})," - Celery tasks for background jobs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type safety"})," - Managers and validators ensure data integrity"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"service-layer-pattern",children:"Service Layer Pattern"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"services/user_service.py"})," - Write operations"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from django.db import transaction\n\nclass UserService:\n    @staticmethod\n    @transaction.atomic\n    def create_user(*, email: str, password: str, **kwargs):\n        """\n        Create user with validation and side effects\n        """\n        user = User.objects.create_user(\n            email=email,\n            password=password,\n            **kwargs\n        )\n        # Send welcome email\n        send_welcome_email(user)\n        # Create user profile\n        Profile.objects.create(user=user)\n        return user\n    \n    @staticmethod\n    @transaction.atomic\n    def update_profile(*, user, **data):\n        """\n        Update user profile with business logic\n        """\n        profile = user.profile\n        for key, value in data.items():\n            setattr(profile, key, value)\n        profile.save()\n        return profile\n'})}),"\n",(0,r.jsx)(n.h4,{id:"selector-layer-pattern",children:"Selector Layer Pattern"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"selectors/user_selector.py"})," - Read operations"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from django.db.models import Count, Q\n\nclass UserSelector:\n    @staticmethod\n    def get_active_users():\n        """\n        Get all active users with optimized query\n        """\n        return User.objects.filter(\n            is_active=True\n        ).select_related(\'profile\').prefetch_related(\'groups\')\n    \n    @staticmethod\n    def get_user_with_stats(*, user_id: int):\n        """\n        Get user with article and comment counts\n        """\n        return User.objects.filter(\n            id=user_id\n        ).annotate(\n            article_count=Count(\'articles\'),\n            comment_count=Count(\'comments\')\n        ).first()\n'})}),"\n",(0,r.jsx)(n.h4,{id:"using-services-and-selectors-in-views",children:"Using Services and Selectors in Views"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"api/v1/views/profile.py"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from rest_framework import viewsets\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\nfrom ..serializers.profile import ProfileSerializer\nfrom ....services.user_service import UserService\nfrom ....selectors.user_selector import UserSelector\n\nclass ProfileViewSet(viewsets.ViewSet):\n    def list(self, request):\n        """Use selector for read operations"""\n        users = UserSelector.get_active_users()\n        serializer = ProfileSerializer(users, many=True)\n        return Response(serializer.data)\n    \n    def retrieve(self, request, pk=None):\n        """Use selector with stats"""\n        user = UserSelector.get_user_with_stats(user_id=pk)\n        serializer = ProfileSerializer(user)\n        return Response(serializer.data)\n    \n    @action(detail=True, methods=[\'patch\'])\n    def update_profile(self, request, pk=None):\n        """Use service for write operations"""\n        user = self.get_object()\n        profile = UserService.update_profile(\n            user=user,\n            **request.data\n        )\n        serializer = ProfileSerializer(profile)\n        return Response(serializer.data)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"api-versioning-in-practice",children:"API Versioning in Practice"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"config/urls.py"})," - Root URL configuration"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from django.urls import path, include\n\nurlpatterns = [\n    # API v1\n    path('api/v1/users/', include('apps.users.api.v1.urls')),\n    path('api/v1/articles/', include('apps.articles.api.v1.urls')),\n    \n    # API v2 (future)\n    # path('api/v2/users/', include('apps.users.api.v2.urls')),\n    # path('api/v2/articles/', include('apps.articles.api.v2.urls')),\n]\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"apps/users/api/v1/urls.py"})," - Version-specific URLs"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom .views import auth, profile, admin\n\nrouter = DefaultRouter()\nrouter.register('profiles', profile.ProfileViewSet, basename='profile')\n\nurlpatterns = [\n    path('', include(router.urls)),\n    path('auth/login/', auth.LoginView.as_view(), name='login'),\n    path('auth/register/', auth.RegisterView.as_view(), name='register'),\n]\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When to create v2/"})," - Only for breaking changes"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# apps/users/api/v2/serializers/profile.py\n# Only create if v2 has DIFFERENT serializer than v1\n\nfrom rest_framework import serializers\nfrom apps.users.models import User\n\nclass ProfileSerializer(serializers.ModelSerializer):\n    # v2 changes: Added new field, removed old field\n    full_name = serializers.CharField(source='get_full_name')  # NEW\n    # Removed 'first_name' and 'last_name' (breaking change)\n    \n    class Meta:\n        model = User\n        fields = ['id', 'email', 'full_name', 'avatar']  # Different from v1\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Reusing unchanged components from v1"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# apps/users/api/v2/views/profile.py\n# If profile view logic is same, import from v1\nfrom ..v1.views.profile import ProfileViewSet\n\n# Or if only serializer changed:\nfrom rest_framework import viewsets\nfrom ..serializers.profile import ProfileSerializer  # v2 serializer\nfrom ....services.user_service import UserService  # Same service\nfrom ....selectors.user_selector import UserSelector  # Same selector\n\nclass ProfileViewSet(viewsets.ViewSet):\n    # Same logic as v1, just different serializer\n    def list(self, request):\n        users = UserSelector.get_active_users()  # Same selector\n        serializer = ProfileSerializer(users, many=True)  # v2 serializer\n        return Response(serializer.data)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"why-this-architecture",children:"Why This Architecture?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Traditional (Fat Views):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# All logic in view - hard to test, reuse, maintain\nclass ArticleViewSet(viewsets.ModelViewSet):\n    def create(self, request):\n        # 50+ lines of business logic here\n        # Hard to test, hard to reuse\n        pass\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service/Selector Pattern (Thin Views):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# View is just coordination - easy to test, reuse\nclass ArticleViewSet(viewsets.ModelViewSet):\n    def list(self, request):\n        articles = ArticleSelector.get_published_articles()\n        return Response(ArticleSerializer(articles, many=True).data)\n    \n    def create(self, request):\n        article = ArticleService.create_article(**request.data)\n        return Response(ArticleSerializer(article).data, status=201)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Views are 5-10 lines (coordination only)"}),"\n",(0,r.jsx)(n.li,{children:"Business logic is reusable (services)"}),"\n",(0,r.jsx)(n.li,{children:"Queries are optimized (selectors)"}),"\n",(0,r.jsx)(n.li,{children:"Easy to test each layer"}),"\n",(0,r.jsx)(n.li,{children:"Easy to find code"}),"\n",(0,r.jsx)(n.li,{children:"Prevents code duplication"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"8-serializer-relations-hyperlinkedmodelserializer-vs-modelserializer",children:"8. Serializer Relations: HyperlinkedModelSerializer vs ModelSerializer"}),"\n",(0,r.jsx)(n.h4,{id:"approach-comparison",children:"Approach Comparison"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Option 1: HyperlinkedModelSerializer (Recommended for Public APIs)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from rest_framework import serializers\n\nclass UserSerializer(serializers.HyperlinkedModelSerializer):\n    class Meta:\n        model = User\n        fields = [\'url\', \'username\', \'email\', \'groups\']\n\n# Response:\n{\n    "url": "http://api.example.com/users/1/",\n    "username": "john",\n    "email": "john@example.com",\n    "groups": [\n        "http://api.example.com/groups/1/",\n        "http://api.example.com/groups/2/"\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Option 2: ModelSerializer (Simpler for Internal APIs)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class UserSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = [\'id\', \'username\', \'email\', \'groups\']\n\n# Response:\n{\n    "id": 1,\n    "username": "john",\n    "email": "john@example.com",\n    "groups": [1, 2]\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"when-to-use-each-approach",children:"When to Use Each Approach"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"HyperlinkedModelSerializer"}),(0,r.jsx)(n.th,{children:"ModelSerializer"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Use When"})}),(0,r.jsx)(n.td,{children:"Building public/external APIs"}),(0,r.jsx)(n.td,{children:"Building internal/private APIs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Best For"})}),(0,r.jsx)(n.td,{children:"RESTful, discoverable APIs"}),(0,r.jsx)(n.td,{children:"Simple, fast responses"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Client Type"})}),(0,r.jsx)(n.td,{children:"Web browsers, third-party apps"}),(0,r.jsx)(n.td,{children:"Mobile apps, SPAs with known structure"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Response Size"})}),(0,r.jsx)(n.td,{children:"Larger (full URLs)"}),(0,r.jsx)(n.td,{children:"Smaller (just IDs)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Discoverability"})}),(0,r.jsx)(n.td,{children:"High (self-documenting)"}),(0,r.jsx)(n.td,{children:"Low (requires documentation)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Client Complexity"})}),(0,r.jsx)(n.td,{children:"Lower (follow links)"}),(0,r.jsx)(n.td,{children:"Higher (construct URLs)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Performance"})}),(0,r.jsx)(n.td,{children:"Slightly slower (URL generation)"}),(0,r.jsx)(n.td,{children:"Faster (simple IDs)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Caching"})}),(0,r.jsx)(n.td,{children:"Better (full URLs cacheable)"}),(0,r.jsx)(n.td,{children:"Requires client-side URL construction"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"why-hyperlinkedmodelserializer-is-better-for-public-apis",children:"Why HyperlinkedModelSerializer is Better for Public APIs"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HATEOAS Compliance:"})," Follows Hypermedia as the Engine of Application State principle"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Self-Documenting:"})," Clients can discover related resources without documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Decoupling:"})," URL structure changes don't break clients"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Navigation:"})," Clients can follow links without constructing URLs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RESTful:"})," Aligns with REST architectural principles"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"why-modelserializer-is-better-for-internal-apis",children:"Why ModelSerializer is Better for Internal APIs"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance:"})," Smaller payload size, faster serialization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplicity:"})," Easier to understand and implement"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Known Structure:"})," Internal clients already know URL patterns"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bandwidth:"})," Reduces data transfer for mobile/low-bandwidth scenarios"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Caching:"})," Client can cache ID-to-URL mappings"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"hybrid-approach-best-of-both-worlds",children:"Hybrid Approach (Best of Both Worlds)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class UserSerializer(serializers.HyperlinkedModelSerializer):\n    id = serializers.IntegerField(read_only=True)  # Include both\n    \n    class Meta:\n        model = User\n        fields = [\'id\', \'url\', \'username\', \'email\', \'groups\']\n\n# Response includes both ID and URL:\n{\n    "id": 1,\n    "url": "http://api.example.com/users/1/",\n    "username": "john",\n    "email": "john@example.com",\n    "groups": [\n        "http://api.example.com/groups/1/",\n        "http://api.example.com/groups/2/"\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to Use Hybrid:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"APIs serving both web and mobile clients"}),"\n",(0,r.jsx)(n.li,{children:"Transitioning from ID-based to hyperlinked"}),"\n",(0,r.jsx)(n.li,{children:"Need flexibility for different client types"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"http-methods-usage",children:"HTTP Methods Usage"}),"\n",(0,r.jsx)(n.h3,{id:"get---retrieve-resources",children:"GET - Retrieve Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should be idempotent and safe"}),"\n",(0,r.jsx)(n.li,{children:"Must NOT alter state"}),"\n",(0,r.jsx)(n.li,{children:"Use for fetching data only"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /users/711/activate  # Altering state with GET\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good Practice:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /users/711/activation  # Use POST for state changes\n"})}),"\n",(0,r.jsx)(n.h3,{id:"post---create-resources",children:"POST - Create Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Creates new resources"}),"\n",(0,r.jsx)(n.li,{children:"Returns 201 Created with Location header on success"}),"\n",(0,r.jsx)(n.li,{children:"Returns 400 Bad Request for validation errors (never 422)"}),"\n",(0,r.jsx)(n.li,{children:"Non-idempotent"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\ud83d\udcd6 Reference:"})," See ",(0,r.jsx)(n.code,{children:"09-Error-Handling-and-Status-Codes.md"})," for complete HTTP status code usage guide."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"put-vs-patch-when-to-use-each",children:"PUT vs PATCH: When to Use Each"}),"\n",(0,r.jsx)(n.h4,{id:"detailed-comparison",children:"Detailed Comparison"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PUT - Full Resource Replacement"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# PUT requires ALL fields\nPUT /users/123\n{\n  "username": "john",\n  "email": "john@example.com",\n  "first_name": "John",\n  "last_name": "Doe",\n  "bio": "Software developer",\n  "avatar": "http://example.com/avatar.jpg"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PATCH - Partial Resource Update"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# PATCH requires only changed fields\nPATCH /users/123\n{\n  "email": "newemail@example.com"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"when-to-use-put",children:"When to Use PUT"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Scenario"}),(0,r.jsx)(n.th,{children:"Why PUT is Better"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Complete replacement"})}),(0,r.jsx)(n.td,{children:"Client has full resource representation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Form submissions"})}),(0,r.jsx)(n.td,{children:"All fields are available from form"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Data synchronization"})}),(0,r.jsx)(n.td,{children:"Ensuring complete state match"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Versioning conflicts"})}),(0,r.jsx)(n.td,{children:"Preventing partial updates on stale data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Simple clients"})}),(0,r.jsx)(n.td,{children:"Client doesn't need to track changes"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PUT Implementation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from rest_framework import viewsets\n\nclass UserViewSet(viewsets.ModelViewSet):\n    def update(self, request, pk=None):\n        """PUT - Requires all fields"""\n        user = self.get_object()\n        serializer = UserSerializer(user, data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data)\n        return Response(serializer.errors, status=400)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"when-to-use-patch",children:"When to Use PATCH"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Scenario"}),(0,r.jsx)(n.th,{children:"Why PATCH is Better"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Single field updates"})}),(0,r.jsx)(n.td,{children:"Changing email, password, or status"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Mobile apps"})}),(0,r.jsx)(n.td,{children:"Reduces bandwidth usage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Progressive forms"})}),(0,r.jsx)(n.td,{children:"Multi-step data collection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Optimistic updates"})}),(0,r.jsx)(n.td,{children:"UI updates before server confirmation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Large resources"})}),(0,r.jsx)(n.td,{children:"Avoid sending entire object"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PATCH Implementation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class UserViewSet(viewsets.ModelViewSet):\n    def partial_update(self, request, pk=None):\n        """PATCH - Accepts partial data"""\n        user = self.get_object()\n        serializer = UserSerializer(user, data=request.data, partial=True)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data)\n        return Response(serializer.errors, status=400)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"why-patch-is-generally-preferred",children:"Why PATCH is Generally Preferred"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bandwidth Efficiency:"})," Only send changed fields"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexibility:"})," Clients don't need complete resource state"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Experience:"})," Faster updates, better for mobile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Concurrent Updates:"})," Less likely to overwrite other users' changes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Evolution:"})," New fields don't break existing clients"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"why-put-might-be-better",children:"Why PUT Might Be Better"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplicity:"}),' Clear "replace everything" semantics']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistency:"})," Guaranteed complete state after update"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation:"})," Easier to validate complete resource"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conflict Prevention:"})," Ensures no partial/inconsistent states"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Idempotency:"})," Repeated calls have same effect"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"best-practice-support-both",children:"Best Practice: Support Both"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class UserViewSet(viewsets.ModelViewSet):\n    http_method_names = [\'get\', \'post\', \'put\', \'patch\', \'delete\']\n    \n    def update(self, request, pk=None):\n        """PUT - Full update"""\n        return super().update(request, pk)\n    \n    def partial_update(self, request, pk=None):\n        """PATCH - Partial update"""\n        return super().partial_update(request, pk)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Decision Matrix:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Use PUT when:\n\u2713 Client has complete resource representation\n\u2713 Need to ensure complete state consistency\n\u2713 Replacing entire resource is the intent\n\u2713 Simpler client implementation\n\nUse PATCH when:\n\u2713 Updating one or few fields\n\u2713 Optimizing for bandwidth/performance\n\u2713 Building mobile or progressive web apps\n\u2713 Supporting partial/incremental updates\n\u2713 Default choice for most update operations\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delete---remove-resources",children:"DELETE - Remove Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Deletes resources"}),"\n",(0,r.jsx)(n.li,{children:"Idempotent"}),"\n",(0,r.jsx)(n.li,{children:"Returns 204 No Content on success"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"api-inventory-and-documentation",children:"API Inventory and Documentation"}),"\n",(0,r.jsx)(n.h3,{id:"maintain-api-inventory",children:"Maintain API Inventory"}),"\n",(0,r.jsx)(n.p,{children:"Keep a comprehensive inventory of all API hosts and endpoints."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Document:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API version and environment (production, staging, development)"}),"\n",(0,r.jsx)(n.li,{children:"Network access requirements (public, internal, partners)"}),"\n",(0,r.jsx)(n.li,{children:"Authentication methods"}),"\n",(0,r.jsx)(n.li,{children:"Rate limits and SLAs"}),"\n",(0,r.jsx)(n.li,{children:"All endpoints with parameters, requests, and responses"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"create-api-roadmap",children:"Create API Roadmap"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Track what's coming"}),"\n",(0,r.jsx)(n.li,{children:"Document what's being deprecated"}),"\n",(0,r.jsx)(n.li,{children:"Communicate changes like product releases"}),"\n",(0,r.jsx)(n.li,{children:"Maintain changelog"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"design-for-scalability",children:"Design for Scalability"}),"\n",(0,r.jsx)(n.h3,{id:"performance-targets",children:"Performance Targets"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Set latency targets (e.g., 95% of calls < 300ms)"}),"\n",(0,r.jsx)(n.li,{children:"Monitor and track performance metrics"}),"\n",(0,r.jsx)(n.li,{children:"Treat performance as ongoing maintenance"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-performance-first",children:"Build Performance-First"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement pagination by default"}),"\n",(0,r.jsx)(n.li,{children:"Fix N+1 query problems"}),"\n",(0,r.jsx)(n.li,{children:"Cache heavy read operations"}),"\n",(0,r.jsx)(n.li,{children:"Use database indexing strategically"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Key takeaways for API design and architecture:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistency:"})," Use plural nouns, spinal-case, and consistent patterns"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplicity:"})," Avoid deep nesting, use query parameters for filtering"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RESTful:"})," Use proper HTTP methods, hyperlinked relations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scalability:"})," Design with performance in mind from the start"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation:"})," Maintain comprehensive API inventory and roadmap"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Product Mindset:"})," Treat APIs as strategic products, not just technical implementations"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Following these best practices ensures your Django REST Framework APIs are maintainable, scalable, and developer-friendly."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);